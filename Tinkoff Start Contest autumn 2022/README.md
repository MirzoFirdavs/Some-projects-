# A

В команде Тинькофф произошла реорганизация — объединились два отдела. Новые коллеги хотят сидеть рядом, поэтому офису требуется ремонт. Прежние места каждого отдела имели форму прямоугольника. Новая площадка должна быть квадратной, а также содержать предыдущие места, т.к. некоторые разработчики очень привязаны к ним. К сожалению, размеры офиса ограничены, поэтому зона должна иметь минимальную площадь. Строители пытаются посчитать, сколько материала им понадобится для ремонта. Для этого им нужно знать итоговую площадь обновленной площадки. Пожалуйста, помогите им.

### Формат ввода

В первой строке заданы четыре целых числа: x_1, y_1, x_2, y_2, где (x_1, y_1) и (x_2, y_2) — координаты левого нижнего и правого верхнего углов прежнего места первого отдела. Известно, что 0 ≤ x_1 < x_2 ≤ 10 и 0 ≤ y_1 < y_2 ≤ 10.

Во второй строке заданы координаты места второго отдела в том же формате, что и первый. Гарантируется, что исходные площадки двух отделов не пересекаются, а так же не касаются друг друга.

### Формат вывода 

В единственной строке выведите одно число — площадь новой объединенной зоны.

### Пример 1
    
#### Ввод
    6 6 8 8
    1 8 4 9

#### Вывод
    49

### Ограничение памяти                                        Ограничение времени
1024.0 Мб                                                      1 с

### Ввод                                                      Вывод
стандартный ввод или input.txt                                стандартный вывод или output.txt

# B

Аня — координатор стажировок в Тинькофф. Она хочет нанять самых сильных олимпиадников. Для того чтобы понять, кто же лучший, Аня решила проанализировать результаты командной олимпиады за последние N лет. Она знает все команды, занявшие первое место. Каждая команда задается тройкой имен, причем их порядок не важен, то есть записи ANTON BORIS CHRIS и BORIS ANTON CHRIS задают одну и ту же команду. Ане нужны лучшие из лучших, поэтому она хочет знать, какое максимальное число раз побеждала команда в одном и том же составе. Вы дружите с Аней, поэтому согласились ей помочь.

### Формат ввода

В первой строке задано одно целое число N (1 ≤ N ≤ 1000) — количество лет, за которые у Ани есть данные. В следующих N строках заданы команды-
победители: в каждой строке указаны три разделенных пробелом имени. Каждое имя имеет длину от 1 до 10 символов, а также состоит из заглавных латинских символов (A, ..., Z).

### Формат вывода 

В единственной строке выведите число — максимальное число побед команды в одинаковом составе.

### Пример 1
    
#### Ввод
    5
    MIKHAIL VLADISLAV GRIGORY
    VLADISLAV MIKHAIL GRIGORY
    IVAN ILYA VLADIMIR
    ANDREY VLADIMIR ILYA
    VLADIMIR IVAN ANDREY

#### Вывод
    2

### Ограничение памяти                                        Ограничение времени
1024.0 Мб                                                      1 с

### Ввод                                                      Вывод
стандартный ввод или input.txt                                стандартный вывод или output.txt

# C

Один из ваших знакомых стал стажером-аналитиком в команде Тинькофф. У него есть данные за n дней о том, как клиенты подключают и отменяют подписки на один из сервисов. По странному стечению обстоятельств дни чередуются: в первый день подписки только подключались, во второй только отменялись и т.д., т.е. каждый день число приобретенных подписок составляет (-1) ^ (i - 1) * a_i, где a_i — число подключенных или отключенных подписок за i-й день. Во время анализа данных ваш знакомый задался вопросом, увеличилась бы прибыль компании, если бы данные за какие-то дни поменялись местами. В качестве первого этапа он решил поменять местами не более двух дней. Проверьте, сможете ли вы стать стажером- аналитиком в Тинькофф. Для этого предлагаем вам посчитать максимально возможное значение прибыли, которую можно получить, поменяв местами данные за не более, чем два дня. Стоимость одной подписки можно считать равной 1.

### Формат ввода

В первой строке задано одно натуральное число n(2 ≤ n ≤ 100 000) — число дней, данные за которые у вас есть. Во второй строке заданы n чисел a_i — количество подключенных/отмененных подписок за i-й день (1 ≤ i ≤ n, 1 ≤ a_i ≤ 1000).

### Формат вывода 

В единственной строке выведите максимальную прибыль, которую можно получить, поменяв данные за не более, чем два дня.

### Замечание

Можно менять данные за не более, чем два дня, в том числе не менять ничего.

### Пример 1
    
#### Ввод
    2
    1 2

#### Вывод
    1

### Пример 2

#### Ввод
    3
    2 2 2

#### Вывод
    2

### Пример 3

### Ограничение памяти                                        Ограничение времени
1024.0 Мб                                                      1 с

### Ввод                                                      Вывод
стандартный ввод или input.txt                                стандартный вывод или output.txt

# D 

Вы прошли на стажировку и получили свое первое
задание. Ваш куратор попросил прочитать и обработать файл
конфигурации, состоящий из строк трех типов:
* { - начало блока;
* } - конец блокаж
* variable = <value> - присваивание в переменную с именем variable значение value.
value может быть двух типов:
* число, по модулю не превосходящее 100 000 000;
* название переменной, чье значение нужно присвоить.
В файле нет пробелов, и каждая операция записана в отдельной строке. Имена всех переменных состоят из не более чем 10 строчных латинских букв (a, ..., z). Изначально все переменные имеют значение 0. Как только встречается выражение присваивания, то необходимо сразу же его выполнить. Это значение сохраняется до конца блока (если, конечно, не будет перезаписано), и после конца блока возвращается старое значение переменной.
Куратор хочет проверить, насколько хорошо вы анализируете код, поэтому попросил вас вывести значение переменной variable_1 после каждого
присваивания вида variable_1 = variable_2.

### Формат ввода

На стандартный ввод подается набор строк — корректный файл конфигурации в формате, описанном выше. В вводе не содержится пробелов, и ввод содержит не более 100 000 строк.

### Формат вывода 

Для каждого выражения присваивания переменной в переменную выведите значение, которые было присвоено.

### Замечание 1

Может быть так, что имена переменных в строке третьего типа (присваивание) совпадают, т.е. имена переменных, из которой и куда копируется, одинаковы.

### Замечание 2

Заметьте, что на вход подается именно набор строк, а не файл.

### Пример 1
    
#### Ввод
    thats=ze
    ro
    a=10
    ten=a
    aboba=t
    en
    ten=-10
    {
    b=a
    a=1337
    c=a
    {
    d=a
    e=aboba
    }
    }
    lol=a

#### Вывод
    0
    10
    10
    10
    1337
    1337
    10
    10

### Ограничение памяти                                        Ограничение времени
1024.0 Мб                                                      2 с

### Ввод                                                      Вывод
стандартный ввод или input.txt                                стандартный вывод или output.txt

# E

Пройдя тестовое задание от куратора из предыдущей задачи, вы получили новое. На этой раз вам нужно улучшить систему поиска карточек в бухгалтерии Тинькофф. Всего у нас работает n людей. Каждый человек определяется своей фамилией, состоящей из строчных букв латинского алфавита (a, ..., z). К сожалению, бумажные записи со временем становятся нечитаемыми, т.к. конец фамилии стирается, но команда бухгалтерии отлично знает систему хранения карточек и умеет находить любого сотрудника по префиксу его фамилии. Для более быстрой работы дополнительно требуется знать k-го в лексикографическом порядке человека
среди всех с заданным префиксом. Задачу быстрого поиска такого человека и поставил перед вами куратор.

### Формат ввода

Первая строка задает два натуральных числа n и q (1 ≤ n ≤ 1 000 000 , 1 ≤ q ≤ 10 000) — количество людей и количество обращений к системе соответственно. В следующих n строках находятся фамилии, состоящие из строчных букв латинского алфавита. Гарантируется, что суммарная длина строк не превосходит 1 000 000  символов. Последние q строк содержат запросы. Каждый запрос состоит из числа k_i и строки s_i (1 ≤ i ≤
q, 1 ≤ k_i ≤ 100 000 000 , 1 ≤ s_i ≤ 1000), задающей префикс фамилии, среди которых нужно найти k_i-ю по порядку строку.

### Формат вывода 

На каждый запрос выведите одно число — порядковый номер найденной фамилии в исходном наборе или -1, если фамилии, подходящей под условие, не существует.

### Замечание

Лексикографический порядок строк — это привычный нам порядок «как в словаре». Формально, строка p длины n лексикографически меньше строки q такой же длины, если p_1 = q_1, ..., p_(k - 1) = q_(k - 1), p_k < q_k для некоторого k (1 ≤ k ≤ n) при нумерации символов строке нумеруются с 1. Символы строк сравниваются по алфавитному порядку.

### Пример 1
    
#### Ввод
    5 3
    ad
    a
    abc
    aboba
    b
    3 a
    2 ab
    1 b

#### Вывод
    4
    4
    5

### Ограничение памяти                                        Ограничение времени
1024.0 Мб                                                      1 с

### Ввод                                                      Вывод
стандартный ввод или input.txt                                стандартный вывод или output.txt

# F 

В офисе Тинькофф есть несколько лифтов для минимизации времени ожидания и ускорения перемещения по зданию. У лифтов есть особенность: i-й лифт едет только с этажа s_i до этажа f_i без промежуточных остановок. По задумке строителей лифты везут пассажиров только вверх (вниз все ходят по лестницам). В первый день стажировки вы решили воспользоваться этими особенностями, а именно прокатиться на максимальном числе лифтов подряд, составив цепь. Цепью вы называете последовательность лифтов, для которых для любых двух лифтов, имеющих в цепи номера i и i + 1 выполняется условие f_i = s_(i + 1) , т.е. между двумя лифтами вам не нужно пользоваться лестницей, чтобы добраться от одного до другого. Определите максимально возможную длину цепи лифтов, на которых вам удастся прокатиться.

### Формат ввода

В первой строке задано число n (1 ≤ n ≤ 100 000) — количество лифтов. В следующих n строках заданы 2 числа через пробел пары s_i, f_i (1 ≤ i ≤ n, 0 ≤ s_i ≤ f_i ≤ 100 000 000) — нижний и верхний этажи для каждого из лифтов.

### Формат вывода 

В единственной строке выведите максимально возможную длину цепи.

### Замечание

Обратите внимание, что начальный и конечный этаж лифта могут совпадать. В этом случае им можно воспользоваться, но не более 1 ﻿раза.

### Пример 1
    
#### Ввод
    7
    2 6
    5 6
    2 5
    2 2
    6 8
    2 2
    0 2

#### Вывод
    6

### Ограничение памяти                                        Ограничение времени
1024.0 Мб                                                      1 с

### Ввод                                                      Вывод
стандартный ввод или input.txt                                стандартный вывод или output.txt

# G 

После работы ваш коллега, стажер Павел, решил зайти в магазин. Как и вы, Павел — разработчик, поэтому каждое свое действие он выполняет по алгоритму в строгой последовательности. Супермаркет для Павла — прямая с полками. На каждой полке стоят товары одной категории, а каждая полка помечена какой-то строчной буквой латинского алфавита (a, ..., z), т.е. весь супермаркет можно представлять как строку s.
Павел хочет взять по одному товару с каждой полки в каком-то порядке. Для этого он делает две операции:
* Взять товар с текущей полки и положить в корзину, если он этого не сделал ранее.
* Передвинуться к следующей полке. Если он стоял у последней полки, он возвращается к первой. 
Павел любит порядок и хочет складывать товары в отсортированном порядке, а именно сначала он хочет взять по одному товару с полок с буквой a, если
они есть, затем — с буквой b и так далее до z. У Павла был тяжелый день, он хочет домой, поэтому планирует закончить с покупками как можно быстрее. Для этого он решил брать товары не со всех полок, а только с какого-то подотрезка, т.е. рассматривать все полки с l-й по r-ю. Пожалуйста, помогите Павлу быстрее попасть домой и посчитайте, сколько передвижений, т.е. операций второго типа, ему нужно будет сделать.

### Формат ввода

В первой строке содержится строка s (1 ≤ |s| ≤ 100 000), состоящая из строчных букв латинского алфавита — план супермаркета. Во второй строке содержится число q (1 ≤ |s| ≤ 100 000) — количество рассматриваемых Павлом подотрезков. В следующих q строках содержатся границы подотрезка — два целых числа l_i, r_i (1 ≤ i ≤ q, 1 ≤ l_i ≤ r_i ≤ |s|).

### Формат вывода 

Выведите q строк, содержащих одно целое число — количество операций второго типа, которые необходимо выполнить для этого подотрезка.

### Замечание

Для первого подотрезка из входных данных нужно сделать 9 перемещений: 1 шаг с первого символа подотрезка до буквы e, 4 шага до буквы h, 2 шага до первой l, 1 шаг до второй 1, 1 шаг до буквы o.

### Пример 1
    
#### Ввод
    hello
    3
    1 5
    1 2
    2 5

#### Вывод
    9
    2
    3

### Ограничение памяти                                        Ограничение времени
1024.0 Мб                                                      2 с

### Ввод                                                      Вывод
стандартный ввод или input.txt                                стандартный вывод или output.txt

# H 

В Тинькофф решили освоить новую нишу, а именно открыть внутренний стартап по продаже доменов. Каждый домен представляет из себя строку, состоящую только из букв S, T, A, R. Каждому покупателю хочется не просто продать строку, а продать нужную строку, а именно, пусть у каждого покупателя есть строки P и Q. Тогда ему подходят только строки, у которых первые |P| символов совпадают с P и последние |Q| символов совпадают с Q. Для начала было закуплено n доменов для m покупателей. Теперь хочется понять, хватит ли их для всех покупателей. Чтобы получить ответ на этот вопрос, посчитайте число подходящих для каждого покупателя строк.

### Формат ввода

Первая строка содержит два числа n и m (1 ≤ n ≤ 100 000 , 1 ≤ m ≤ 100 000) — количество закупленных доменов и количество покупателей. Следующие n строк содержат закупленные домены. В каждой строке встречаются только символы S, T, A, R. Длина каждой строки не более 100 000 символов, а их суммарная длина не превосходит 2 * 1 000 000. Последние m строк содержат запросы покупателей. Каждый запрос задается двумя строками P_i и Q_i, состоящими из вышеупомянутых символов. Длина каждой из строк P_i и P_i не более 100 000 символов, а суммарная длина всех строк P_i не более 2 * 1 000 000. Аналогичное ограничение распространяется и на строки Q_i 

### Формат вывода 

Выведите m строк, состоящих из одного целого числа — количества подходящих строк для данных покупателей.

### Пример 1
    
#### Ввод
    2 3
    ATSR
    ASR
    S R
    AT R
    A R

#### Вывод
    0
    1
    2

### Ограничение памяти                                        Ограничение времени
1024.0 Мб                                                      1 с

### Ввод                                                      Вывод
стандартный ввод или input.txt                                стандартный вывод или output.txt